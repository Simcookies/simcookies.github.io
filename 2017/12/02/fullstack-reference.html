<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>&#39;Web Full-stack develop reference&#39;</title><meta name="description" content="I finished reading the book of Web Full-stack Develop Reference at one weekend1. As writing in the book, it focuses on the principles, general methods and to..."><link rel="shortcut icon" type="image/x-icon" href="/public/favicon.ico"><link rel="stylesheet" href="/public/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.css" integrity="sha512-EaaldggZt4DPKMYBa143vxXQqLq5LE29DG/0OoVenoyxDrAScYrcYcHIuxYO9YNTIQMgD8c8gIUU8FQw7WpXSQ==" crossorigin="anonymous"><link rel="canonical" href="https://simcookies.github.io/2017/12/02/fullstack-reference"><link rel="alternate" type="application/rss+xml" title="Simcookies" href="https://simcookies.github.io/feed.xml"><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/simple-jekyll-search/1.7.12/simple-jekyll-search.min.js" integrity="sha512-APy7Ff/y4pdIHleqiTMcRZ8Wu6tjfqhJpgAcaCvTuFQPj/G+/A5u0uZi/DkfkuLQ6FeFmDJgh/zl0y3If/VUyA==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha512-Fv0JVzxvrWFLhiUP8wZYR6VwBZQt0XqB9MhHZE+12lObqIDzg3LOJcCCiRy6g4MCX/MlG+R9IRCWZAHjo9iBgw==" crossorigin="anonymous"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
      showProcessingMessages: false,
      messageStyle: "none",
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
      }
    });</script><script src="/public/script/main.js"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="/">Simcookies</a> <span class="menu-icon" id="menu-icon"><span class="fa-stack fa-lg"><i class="fa fa-square-o fa-stack-2x"></i> <i class="fa fa-bars fa-stack-1x"></i></span></span><nav class="site-nav"><div class="trigger"><a class="page-link" href="/about/">About</a> <a class="page-link" href="/archive/">Archive</a> <a class="page-link" href="/wiki/">Wiki</a> <a class="page-link" href="/feed.xml">Feeds</a> <a class="page-link" href="https://github.com/simcookies/gitio" target="_blank" rel="noopener noreferrer"><i class="fa fa-github-alt fa-lg"></i> Repositories</a></div></nav></div></header><div class="scroll-content"><div class="page-content"><div class="wrapper"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header"><h1 class="post-title" itemprop="name headline">'Web Full-stack develop reference'</h1><p class="post-meta"><time datetime="2017-12-02T15:49:44+09:00" itemprop="datePublished">Dec 2, 2017</time>  <i class="fa fa-archive" aria-hidden="true"></i>  <span><a class="category-div" href="/category/basics">basics</a></span>  <i class="fa fa-tag"></i>  <a class="tag-div" href="/tag/ruby">ruby</a>  <a class="tag-div" href="/tag/python">python</a>  <a class="tag-div" href="/tag/server">server</a> </p></header><div class="post-content" itemprop="articleBody"><p>I finished reading the book of <em><a href="https://www.gitbook.com/book/coin8086/getfullstack/details" target="_blank" rel="noopener noreferrer">Web Full-stack Develop Reference</a></em> at one weekend<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>. As writing in the book, it focuses on the principles, general methods and tools of Web developing, not a specific programming language. The first half of the book’s content is mainly introduced the basic knowledge of the Web includes the three elements of the web page elements – HTML, CSS, JavaScript, so I just looked through it. I focused on reading the third chapter – Programming Languages and Technologies. Besides, I made some others related researches about it and write a new post as below. (It’s terriable to write in English<img class="emoji" title=":joy:" alt=":joy:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f602.png" height="20" width="20">)</p><hr><h1 id="dynamic-content-some-ways-for-server-programming">(Dynamic content) Some ways for Server Programming</h1><h2 id="common-gateway-interface-cgi">Common Gateway Interface, CGI</h2><p>Although no one is using it today basically, the mainstream Web server still supports it. Here are the processing steps of it:</p><ol><li>User’s requests are sent to the server through the Internet.</li><li>The server sends the received request to the CGI program for processing.</li><li>CGI program passes the results to the server.</li><li>The server sends the responses to users.</li></ol><p>While CGI handles one process for per request, so CGI is not a good choice for lots of requests that consume a lot of resources.</p><h2 id="php">PHP<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup></h2><h2 id="java-servlet">Java (Servlet)</h2><p>Java Servlet just provides servers for Java. Here is it’s processing steps:</p><ol><li>User’s requests are sent to the server through the Internet.</li><li>The server starts and calls Servlet.</li><li>Servlet processes according to user’s requests and passes the results to the server.</li><li>The server sends the responses to users.</li></ol><p>Java Servlet handles one thread for per request which is different from CGI, so it has better performance than CGI (If you want to know more about this, please read this <a href="http://www.c4learn.com/java/servlet/servlet-vs-cgi/" target="_blank" rel="noopener noreferrer">reference</a>. In fact, we use more frameworks such as <a href="https://spring.io/" target="_blank" rel="noopener noreferrer">Spring</a> instead of using Java Servlet directly.</p><h2 id="python">Python</h2><p>Python mainly depends on the WSGI (Web Server Gateway Interface) specification on the server side. This specification defines the main interface between the server and the application.</p><p>There is a Middleware concept in WSGI: after the server receives the request, the middleware responds firstly, and then send to the next level which may be an application or another middleware. Simply say, it adds one or more middlewares which can achieve log or handle errors between the server and the application.</p><h2 id="ruby">Ruby</h2><p>Ruby is the programming language which I am always using. Rack specification defines the interface between the server and the Ruby application which is similar to WSGI in Python. I never heard about Rack even I am using Ruby on Rails (it is based on Rack <img class="emoji" title=":cold_sweat:" alt=":cold_sweat:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f630.png" height="20" width="20">). As WSGI in Python, Rack also has the concept of middleware.<sup id="fnref:3"><a href="#fn:3" class="footnote">3</a></sup></p><h2 id="nodejs">Node.js<sup id="fnref:4"><a href="#fn:4" class="footnote">4</a></sup></h2><hr><h1 id="server-architecture">Server architecture</h1><p>I was vague about this concept before, but I got a rough outline after reading the book. I will sort out various concepts includes well known Apache, Nginx or IIS.</p><h2 id="basic-situation">Basic situation</h2><p>If the site’s traffic is not a lot, we can put the server directly on the network. Here is an instance:</p><p><img src="/public/image/basic_web_server.png" alt="basic instance"></p><p>The web server here may be Apache HTTP Server, Nginx, Microsoft’s IIS and so on; dedicated Servlet which I said above, it just provides servers for Java; and the web server embedded in Node.js.</p><h2 id="load-balancing">Load balancing</h2><p>In general, one Web Server for one website is not enough, we need a group of servers. The load balancer accepts the HTTP request and distributes it to the internal web server. There is a well-known load balancer named <a href="https://en.wikipedia.org/wiki/HAProxy" target="_blank" rel="noopener noreferrer">HAProxy</a>, the Apache, Nginx which I said above can also act as a load balancer.</p><h2 id="specifi-analysis">Specifi analysis</h2><p>I often hear the Web Server Architecture composed of Nginx + Passenger + Ruby on Rails or Apache + Unicorn + Ruby on Rails, here are the details explanations for each link:</p><p>Nginx or Apache is the load balancer and also the web server, which responds to client requests and sends them to the application. Unicorn is an HTTP server for Ruby. It will load the Ruby application in its own process space, and the package HTTP contents outside and communicate with Ruby application. Unicorn is easy to debug, and it’s applied to manage Rack application. Some other server such to Thin, Puma is similar as Unicorn. And Passenger is a bit special, it’s directly integrated into Nginx and Apache and becomes the module which they can use directly.</p><blockquote><p>From Wikipedia Phusion Passenger (informally also known as mod_rails and mod_rack among the Ruby community) is a free web server and application server with support for Ruby, Python and Node.js</p></blockquote><p>Passenger can also manage the number of Rails processes, life cycles, request queues and so on. This fig can help you to understand the relationship between them.</p><p><img src="/public/image/server_analysis.png" alt="server analysis"></p><hr><h1 id="refferences">Refferences</h1><blockquote><ul><li><a href="http://fujiike.hateblo.jp/entry/2015/08/20/170751" target="_blank" rel="noopener noreferrer">ApacheとNginxとPassengerとUnicornの違い【すごい初心者向け】</a></li><li><a href="https://stackoverflow.com/questions/4113299/ruby-on-rails-server-options" target="_blank" rel="noopener noreferrer">Ruby on Rails Server options</a></li><li><a href="https://www.gitbook.com/book/coin8086/getfullstack/details" target="_blank" rel="noopener noreferrer">Web全栈技术指南</a></li></ul></blockquote><div class="footnotes"><ol><li id="fn:1"><p>Strictly speaking, it is only the author’s own summary of the Gitbook. <a href="#fnref:1" class="reversefootnote">↩</a></p></li><li id="fn:2"><p>I am not very understanding for PHP, after all, I am an ‘entery level’ player. <a href="#fnref:2" class="reversefootnote">↩</a></p></li><li id="fn:3"><p>I want to write an another post to introduce WSGI and Rack. <a href="#fnref:3" class="reversefootnote">↩</a></p></li><li id="fn:4"><p>Still in studying process, I may write a new post about it after it~ <a href="#fnref:4" class="reversefootnote">↩</a></p></li></ol></div></div><hr><div class="post-nav"><a href="/2017/11/30/rails-error-of-key-must-be-32-bytes" class="left link">&lt;&lt; Previous </a><a href="/2018/04/04/source-code-reading-of-jekyll-1" class="right link">Next &gt;&gt;</a></div><hr><div id="disqus_thread"></div><script>/**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
  */
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() {  // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');

  s.src = '//simcookiesgithubio.disqus.com/embed.js';

  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="noopener noreferrer" target="_blank">comments powered by Disqus.</a></noscript></article><div class="mark-link"><a id="bookmark"><span class="fa-stack fa-lg"><i class="fa fa-square fa-stack-2x"></i> <i class="fa fa-book fa-stack-1x fa-inverse"></i></span></a></div><div id="toc-area" class="sidebar" style="display:none"><div class="col toc-area">  <i class="fa fa-bookmark" aria-hidden="true"></i>  Table of Contents<ul class="section-nav"><li class="toc-entry toc-h1"><a href="#dynamic-content-some-ways-for-server-programming">(Dynamic content) Some ways for Server Programming</a><ul><li class="toc-entry toc-h2"><a href="#common-gateway-interface-cgi">Common Gateway Interface, CGI</a></li><li class="toc-entry toc-h2"><a href="#php">PHP2</a></li><li class="toc-entry toc-h2"><a href="#java-servlet">Java (Servlet)</a></li><li class="toc-entry toc-h2"><a href="#python">Python</a></li><li class="toc-entry toc-h2"><a href="#ruby">Ruby</a></li><li class="toc-entry toc-h2"><a href="#nodejs">Node.js4</a></li></ul></li><li class="toc-entry toc-h1"><a href="#server-architecture">Server architecture</a><ul><li class="toc-entry toc-h2"><a href="#basic-situation">Basic situation</a></li><li class="toc-entry toc-h2"><a href="#load-balancing">Load balancing</a></li><li class="toc-entry toc-h2"><a href="#specifi-analysis">Specifi analysis</a></li></ul></li><li class="toc-entry toc-h1"><a href="#refferences">Refferences</a></li></ul></div></div></div></div><footer class="site-footer">© 2016~2020 by Simcookies. All rights reserved.<div class="quick-link" id="quick-link"><a id="page-top"><span class="fa-stack fa-lg"><i class="fa fa-square fa-stack-2x"></i> <i class="fa fa-arrow-up fa-stack-1x fa-inverse"></i> </span></a><a href="/"><span class="fa-stack fa-lg"><i class="fa fa-square fa-stack-2x"></i> <i class="fa fa-home fa-stack-1x fa-inverse"></i></span></a></div></footer></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85209586-1', 'auto');
  ga('send', 'pageview');</script></body></html>